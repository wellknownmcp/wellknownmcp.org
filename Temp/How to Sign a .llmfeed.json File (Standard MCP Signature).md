# How to Sign a .llmfeed.json File (Standard MCP Signature)

This guide explains the **minimal structure and workflow** to properly sign a `.llmfeed.json` file using the `sign_feed.py` script provided by `llmca`.

---

## âœ… Required Structure

A valid LLMFeed must include the following blocks **before signature**:

### 1. `trust` block (MANDATORY)

```json
"trust": {
  "owner": "your-domain.org",
  "signed_blocks": ["origin", "metadata", "trust"]
}
```

- `owner`: identifies who takes responsibility (often the domain that signs)

- `signed_blocks`: list of blocks to include in the cryptographic signature
  
  - You can also use: `"signed_blocks": ["all"]` to sign the entire feed (MCP style)

### 2. (Optional before signing) `signature` block

This will be generated by the script:

```json
"signature": {
  "value": "...",
  "algorithm": "ed25519",
  "created_at": "...",
  "public_key_hint": "https://your-domain.org/.well-known/public.pem"
}
```

---

## ðŸ›  How to Sign

### Step 1 â€” Prepare your feed file

```bash
example.llmfeed.json
```

Include the `trust` block (above). Make sure the file is valid JSON and ends cleanly.

### Step 2 â€” Run the signing script

```bash
python sign_feed.py example.llmfeed.json --key private_key.pem --hint your-domain.org
```

- `--key`: path to your Ed25519 private key in PEM format

- `--hint`: optional. If not provided, it will try to use `trust.owner` or fallback

> The script will inject or correct `trust.signed_blocks`, then produce:
> 
> ```bash
> example.signed.llmfeed.json
> ```

---

## ðŸ”’ Notes

- You MUST include `"trust"` in `signed_blocks` (it is enforced automatically)

- If `signed_blocks` already includes **all blocks** of the feed, the script will rewrite it as `"all"`.

- The signature does **not** cover the `signature` block itself

- To ensure compatibility, publish your public key at:

https://your-domain.org/.well-known/public.pem

```
---

## ðŸ§ª Next Step: Verifying
Use the `verify_signature.py` script or test in `llmfeedhub`.

Youâ€™re now ready to publish cryptographically trusted LLMFeeds. ðŸš€
```

ðŸ’¡ *Want to sign feeds remotely or delegate trust?*  
We're exploring secure remote signing workflows.  
ðŸ‘‰ Contact us if you want to contribute or test this feature.
